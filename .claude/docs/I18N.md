# Internationalization (i18n)

## Implementation Status

✅ **Complete i18n Coverage** - All user-facing components are fully translated in French (default) and English (fallback).

## Architecture

The application uses Vue i18n with an embedded translation pattern where translations are defined directly in components and stores rather than separate locale files. OCF Front provides two composables for cleaner translation registration:

### For Components - `useTranslations()`

Registers translations in `onMounted`:

```typescript
import { useTranslations } from '../composables/useTranslations'

const { t } = useTranslations({
  en: {
    myComponent: {
      title: 'My Component',
      description: 'This is my component description',
      parameterized: 'Hello {name}'
    }
  },
  fr: {
    myComponent: {
      title: 'Mon Composant',
      description: 'Ceci est la description de mon composant',
      parameterized: 'Bonjour {name}'
    }
  }
})
```

### For Stores - `useStoreTranslations()`

Registers immediately:

```typescript
import { useStoreTranslations } from '../composables/useTranslations'

const { t } = useStoreTranslations({
  en: {
    myStore: {
      loadError: 'Error loading data',
      saveSuccess: 'Data saved successfully'
    }
  },
  fr: {
    myStore: {
      loadError: 'Erreur lors du chargement des données',
      saveSuccess: 'Données enregistrées avec succès'
    }
  }
})
```

## Translation Patterns

1. **Component-Scoped Prefixes**: Each component uses a unique prefix (e.g., `login.*`, `terminalMySessions.*`)
2. **Store Translations**: Common translations centralized in stores to avoid duplication
3. **Help Documentation**: Separate locale files at `/src/locales/help/{en,fr}.ts`
4. **Parameter Interpolation**: Support for dynamic values using `{paramName}` syntax

## Important Guidelines

- ✅ **Always use `t()` function** for user-facing text
- ✅ **Use `useTranslations()` for components** - handles onMounted registration automatically
- ✅ **Use `useStoreTranslations()` for stores** - registers immediately for use in setup
- ✅ **Use component/store-scoped prefixes** to avoid key collisions
- ✅ **Provide both English and French** translations for all strings in a single object
- ✅ **Group translations by domain** (e.g., `myComponent: {...}` or `myStore: {...}`)
- ❌ **Never hardcode** user-facing text in templates or JavaScript
- ❌ **Never use old pattern** `useI18n().mergeLocaleMessage()` - use new composables instead
- ❌ **Avoid fallback strings** in `t()` calls when possible (register translations instead)

## Adding i18n to New Components

```vue
<template>
  <div>
    <h1>{{ t('myComponent.title') }}</h1>
    <p>{{ t('myComponent.description') }}</p>
  </div>
</template>

<script setup lang="ts">
import { useTranslations } from '../composables/useTranslations'

const { t } = useTranslations({
  en: {
    myComponent: {
      title: 'My Component',
      description: 'This is my component description'
    }
  },
  fr: {
    myComponent: {
      title: 'Mon Composant',
      description: 'Ceci est la description de mon composant'
    }
  }
})
</script>
```
